<Window x:Name="window" x:Class="SearchMate.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SearchMate" Height="800" Width="500" ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource WindowBackgroundBrush}" Icon="/icon.png">

    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" Margin="20 20 20 0">
            <TextBlock Text="🔍 SearchMate"
                       FontSize="32"
                       Foreground="{DynamicResource PrimaryTextBrush}"
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       DockPanel.Dock="Left"/>
            <Button x:Name="SettingsButton"
                    Content="⚙️"
                    Width="38" Height="38"
                    FontSize="20"
                    Background="{DynamicResource ControlBackgroundBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="1"
                    Margin="0 0 0 0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Cursor="Hand"
                    Click="SettingsButton_Click"
                    ToolTip="Settings"
                    Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}">
                <Button.Effect>
                    <DropShadowEffect BlurRadius="6" ShadowDepth="1" Opacity="0.12"/>
                </Button.Effect>
            </Button>
        </DockPanel>

        <Grid Margin="20 10 20 5" Grid.Row="1">
            <Border CornerRadius="12" Background="{DynamicResource ControlBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1"  >
                <Grid>
                    <TextBox x:Name="SearchBox"
                             FontSize="16"
                             Padding="12"
                             Background="Transparent"
                             BorderThickness="0"
                             Foreground="{DynamicResource PrimaryTextBrush}"
                             TextChanged="SearchBox_TextChanged"/>
                    <TextBlock x:Name="PlaceholderText"
                               Text="Enter filename..."
                               FontSize="16"
                               Padding="16,12,10,10"
                               Foreground="{DynamicResource SecondaryTextBrush}"
                               IsHitTestVisible="False"
                               Visibility="Visible"/>
                </Grid>
            </Border>
        </Grid>
        
        <ProgressBar x:Name="LoadingBar"
                     Height="8"
                     Margin="20 0 20 10"
                     IsIndeterminate="True"
                     Visibility="Collapsed"
                     Grid.Row="2"
                     Background="{DynamicResource BorderBrush}"
                     Foreground="{DynamicResource AccentBrush}"/>

        <Border Grid.Row="3" Margin="20 0 20 20" CornerRadius="12" Background="{DynamicResource ControlBackgroundBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1">
            <ListBox x:Name="ResultsList"
                     FontSize="14"
                     BorderThickness="0"
                     Background="Transparent"
                     Foreground="{DynamicResource PrimaryTextBrush}"
                     MouseDoubleClick="ResultsList_MouseDoubleClick"
                     ScrollViewer.HorizontalScrollBarVisibility="Auto"
                     HorizontalContentAlignment="Left">
                <ListBox.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.08"/>
                </ListBox.Effect>
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" TextWrapping="NoWrap" Foreground="{DynamicResource PrimaryTextBrush}"/>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </Grid>
</Window>
